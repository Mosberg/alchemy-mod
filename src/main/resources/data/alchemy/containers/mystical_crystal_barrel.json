{
  "type": "alchemy:container",
  "id": "alchemy:mystical_crystal_barrel",
  "container_kind": "barrel",
  "stack_size": 1,
  "rarity": "legendary",
  "category": "containers",
  "meta": {
    "display_name": "Mystical Crystal Barrel",
    "icon": "alchemy:mystical_crystal_barrel_icon",
    "notes": "Enchanted barrel that accelerates aging and improves quality"
  },
  "durability": {
    "breakable": true,
    "max_damage": 2000,
    "fireproof": true,
    "explosion_resistance": "high"
  },
  "wood": {
    "wood_type": "ancient_oak",
    "supports_wood_variants": true,
    "allowed_wood_types": [
      "ancient_oak",
      "mystical_birch",
      "enchanted_spruce",
      "ethereal_dark_oak",
      "crystalline_jungle"
    ],
    "flavor_bias": "mystical_essence"
  },
  "liquid": {
    "can_contain_liquid": true,
    "capacity_mb": 100000,
    "accepted_tags": [
      "alchemy:beer",
      "alchemy:spirit",
      "alchemy:ageable",
      "alchemy:magical"
    ],
    "default_fill_mb": 0,
    "transfer": {
      "fill_rate_mb_per_tick": 200,
      "pour_rate_mb_per_tick": 150,
      "allow_partial": true
    }
  },
  "seal": {
    "starts_sealed": true,
    "reopenable": true,
    "seal_quality": "enchanted",
    "leak_chance_per_minute_open": 0.0,
    "oxidation_multiplier_open": 0.5,
    "spoilage_multiplier_open": 0.3
  },
  "pressure": {
    "supports_pressure": false,
    "carbonation_style": "none",
    "max_pressure": 0.0,
    "burst": {
      "enabled": false,
      "pressure_threshold": 0.0,
      "drop_contents_on_burst": false,
      "burst_sound": "minecraft:block.glass.break"
    }
  },
  "temperature": {
    "insulation_factor": 10.0,
    "preferred_serving": "cellar",
    "freezing_safe": true,
    "heat_safe": true
  },
  "barrel_logic": {
    "aging_rate_multiplier": 5.0,
    "quality_transfer_rate": 0.05,
    "wood_flavor_intensity": 0.8,
    "oxygen_exchange_rate": 0.0005,
    "evaporation_rate_per_day": 0.001,
    "magical_properties": {
      "quality_boost_per_day": 0.01,
      "prevents_spoilage": true,
      "essence_infusion": true,
      "time_acceleration": 5.0,
      "dimensional_storage": true
    },
    "enchantments": [
      {
        "type": "alchemy:preservation",
        "level": 3
      },
      {
        "type": "alchemy:quality_enhancement",
        "level": 5
      },
      {
        "type": "alchemy:time_warp",
        "level": 2
      }
    ],
    "crystal_resonance": {
      "frequency": 432.0,
      "amplification": 2.5,
      "affects_quality": true,
      "lunar_phase_bonus": true
    }
  },
  "interaction": {
    "use_action": "open_ui",
    "returns_container": true,
    "return_item_id": "alchemy:mystical_crystal_barrel",
    "consume_on_use": false,
    "consume_on_drink": false,
    "allow_fill_from": [
      "alchemy:legendary_brewery",
      "alchemy:master_brewery",
      "alchemy:advanced_brewery",
      "alchemy:fermenter",
      "alchemy:distillery"
    ],
    "allow_pour_to": [
      "alchemy:aluminum_can",
      "alchemy:glass_flask",
      "alchemy:reinforced_flask",
      "alchemy:copper_keg",
      "alchemy:oak_barrel"
    ]
  },
  "client": {
    "render_mode": "block_entity",
    "liquid_tint_from_content": true,
    "show_fill_level_tooltip": true,
    "fill_level_steps": 25
  },
  "gates": {
    "requires_feature_flag": "alchemy:mystical_brewing",
    "requires_gamerule_true": "doAlchemyBrewing",
    "requires_mod_loaded": ["alchemy", "alchemy_mystical"],
    "min_player_level": 60
  },
  "text": {
    "lore_key": "item.alchemy.mystical_crystal_barrel.lore",
    "tooltip_key": "item.alchemy.mystical_crystal_barrel.tooltip",
    "flavor_text_key": "item.alchemy.mystical_crystal_barrel.flavor",
    "crafting_instructions_key": "item.alchemy.mystical_crystal_barrel.crafting"
  },
  "state_storage": {
    "mode": "both",
    "schema_version": 1,
    "defaults": {
      "payload": {
        "content_id": "",
        "amount_mb": 0,
        "quality": 0.9,
        "temperature": "cellar",
        "pressure": 0.0,
        "sealed": true,
        "created_time": 0
      }
    },
    "item_nbt": {
      "enabled": true,
      "nbt_root": "AlchemyData",
      "payload_key": "Container",
      "fields": {
        "aging_days": "int",
        "quality_enhancement": "float",
        "crystal_charge": "int",
        "wood_essence_level": "float",
        "enchantment_power": "int",
        "dimensional_pocket": "compound"
      }
    },
    "placed_block": {
      "enabled": true,
      "block_id": "alchemy:mystical_crystal_barrel_block",
      "block_entity_id": "alchemy:mystical_crystal_barrel",
      "sync_to_client": true,
      "drops_keep_contents": true
    },
    "conversion": {
      "on_place": "copy_to_block",
      "on_break": "copy_to_item",
      "merge_strategy": "merge"
    }
  },
  "config": {
    "enabled": true,
    "capacity_multiplier": 2.0,
    "transfer_rate_multiplier": 1.5,
    "disable_pressure_burst": true
  },
  "x-custom": {
    "particle_effects": ["minecraft:enchant", "minecraft:end_rod"],
    "ambient_sound": "alchemy:crystal_hum",
    "requires_mana": true,
    "mana_consumption_per_day": 50
  }
}
